@layer base {
  .prose {
    --h1-prose: clamp(2.25rem, 6.25vw + 0.375rem, 3.5rem);
    --h2-prose: clamp(1.5rem, 3.85vw + 0.625rem, 2.25rem);
    --h3-prose: clamp(1.25rem, 3.21vw + 0.4375rem, 1.875rem);
    --h4-prose: clamp(1rem, 2.56vw + 0.35rem, 1.5rem);
  }

  .prose {
    line-height: 1.75em;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply text-pretty;
    }

    h1:not(.not-prose *) {
      font-size: var(--h1-prose);
      @apply dark:text-neutral-300 font-extrabold leading-none;
    }
    h2:not(.not-prose *) {
      font-size: var(--h2-prose);
      @apply dark:text-neutral-300 font-bold mt-12 mb-6 md:mt-16 md:mb-8;
    }

    h2 + *:not(.not-prose *),
    hr + *:not(.not-prose *) {
      @apply mt-0;
    }
    h3:not(.not-prose *) {
      font-size: var(--h3-prose);
      @apply dark:text-neutral-300 font-semibold mt-8 mb-3 md:mt-12 md:mb-5;
    }
    h4:not(.not-prose *) {
      font-size: var(--h4-prose);
      @apply dark:text-neutral-300 font-semibold mt-6 mb-2 md:mt-9 md:mb-3;
    }

    p,
    ul,
    ol,
    blockquote,
    pre {
      margin: 20px 0;
    }

    ul,
    ol {
      padding-left: 1.5em;
    }

    ul {
      list-style-type: disc;
    }
    ol {
      list-style-type: decimal;
    }
    :is(ul, ol) li::marker {
      color: currentColor;
    }
    li {
      padding-left: 0.25em;
    }

    strong {
      font-weight: 700;
    }

    em {
      font-style: italic;
    }

    hr {
      @apply border-t my-12 border-gray-200 dark:border-neutral-800;
    }

    /* Targets Paragraph inside prose but with class not-prose */
    p.not-prose {
      margin: 0;
    }

    blockquote {
      @apply border-l-4 pl-6 text-current;
      font-style: italic;
    }

    small {
      font-size: 0.85em;
    }

    picture,
    figure {
      @apply my-8 block;
    }

    picture > img,
    figure > picture {
      @apply my-0;
    }

    a:not(.not-prose *) {
      @apply text-red-600 dark:text-red-500 no-underline hover:underline;
    }

    :where(:not(pre)) > code {
      /*Possibly neutral-300 for light */
      @apply border-neutral-400 dark:border-neutral-600 text-gray-900 dark:text-neutral-300 inline-block
      font-semibold border-1 font-mono px-2 text-sm bg-neutral-100 dark:bg-neutral-800;
      border-radius: 0.35rem;
    }

    blockquote > pre {
      @apply -ml-6 mr-0 md:mx-0;
    }

    :is(ol, ul) > li:not(.not-prose *) {
      @apply ps-1.5 my-2;
    }

    li > :is(ul, ol):not(.not-prose *) {
      @apply mt-0;
    }

    blockquote p:first-of-type::before,
    blockquote p:last-of-type::after {
      content: none;
    }

    /* Start Tables */
    table:not(.not-prose *) {
      @apply w-full my-8 table-auto text-sm;
    }

    table:not([class]) {
      th {
        @apply font-semibold dark:text-neutral-300 align-bottom text-start p-4;
      }
      td {
        @apply align-top text-start p-4;
      }
    }

    table:not([class]) tbody > tr:nth-child(odd),
    table.striped tbody > tr:nth-child(odd) {
      @apply bg-neutral-100 dark:bg-stone-800/35;
    }

    tbody tr {
      @apply !mb-0 border-neutral-400/30 dark:border-neutral-600/30;
      border-top-width: 1px;
      border-bottom-width: 1px;
    }

    table-saw table:not([class]) tr {
      @apply mb-0;
    }
    /* End Tables */

    [data-hs-cos-type*="rich_text"] > *:first-child {
      margin-top: 0;
    }

    [data-hs-cos-type*="rich_text"] > *:last-child {
      margin-bottom: 0;
    }
  }

  .prose-headings-c {
    h2 {
      @apply !text-2xl;
    }
    h3 {
      @apply !text-xl;
    }
  }
}
