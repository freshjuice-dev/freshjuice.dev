---
layout: base.njk
---

{% set devDocsMenu = menu.devDocs | setActiveDocsPage(page) %}
{% set activeDocsPage = devDocsMenu | getActiveDocsPage %}

{# Layout Helper #}
<div class="-mt-8 sm:-mt-12 lg:-mt-16">
  {# Layout Helper #}
</div>

{# Search #}
<div class="fixed inset-0 mx-auto max-w-xl z-60 h-full flex items-center px-8" x-cloak x-show="docs.showSearch">
  <div id="docsSearch" class="h-4/5 max-h-[80vh] w-full" @click.outside="docs.closeSearch()">
    <div class="text-right">
      <button type="button" class="py-1 px-2 mb-4 border rounded-full text-xs bg-zinc-200" @click="docs.closeSearch()">
        <span class="sr-only">Press</span> ESC <span class="sr-only">to close</span>
      </button>
    </div>
  </div>
</div>

<div class="flex flex-col lg:flex-row lg:grow gap-8 lg:gap-12">

  <aside class="mx-auto w-full lg:w-[19rem] shrink-0 border-y lg:border-y-0 lg:border-r border-gray-900/10 lg:py-8 relative">

    {# Desktop menu #}
    <div class="hidden lg:block">
      <div class="mb-8">
        <p class="font-medium text-sm leading-none my-0">Developer Edition Theme</p>
        <p class="text-2xl font-semibold leading-none my-0">Documentation</p>
      </div>
      <div class="sticky top-8 z-10 lg:pr-8">
        <div class="pb-8">
          <button type="button"
                  class="select-none flex w-full gap-2 items-center px-3 py-2 border rounded-full text-sm bg-zinc-100 hover:bg-zinc-50 transition-all cursor-pointer"
                  @click="docs.openSearch()"
                  @mouseover="docs.loadAssets()">
            {% phicon "magnifying-glass", "regular", { class: "size-6"} %}
            <span>Quick search...</span>
            <span class="grow text-right text-xs" x-text="shortcuts.search">‚åòK</span>
          </button>
        </div>
      </div>

      {% for section in devDocsMenu %}
        <div class="mb-6 lg:pr-8">
          <p class="text-lg font-semibold mb-3">{{ section.title }}</p>
          <ul class="list-none m-0 p-0 border-l border-gray-900/5 space-y-2">
            {% set children = section.children | sortCollection("title", "ASC") if loop.index0 else section.children %}
            {% for child in children %}
              <li>
                <a href="{{ child.url }}"
                   class="block pl-6 py-1 -ml-px border-l hover:border-current {% if child.active %}border-current text-red-600 font-semibold{% else %}border-transparent opacity-85 hover:opacity-100 !text-zinc-600{% endif %}">
                  {{ child.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endfor %}

    </div>

    {# Mobile menu #}
    <div class="lg:hidden" x-cloak>

      <div class="fixed z-40 inset-y-0 left-0 w-80 max-w-[calc(100%-3rem)] bg-zinc-100 p-6 overflow-y-auto space-y-6"
           x-show="docs.drawerMenuOpen"
           x-transition:enter="transition ease-out duration-200"
           x-transition:enter-start="opacity-0 -translate-x-40"
           x-transition:enter-end="opacity-100 translate-x-0"
           x-transition:leave="transition ease-in duration-150"
           x-transition:leave-start="opacity-100 translate-x-0"
           x-transition:leave-end="opacity-0 -translate-x-40"
           @click.outside="docs.toggleDrawerMenu()">

        <button type="button" class="absolute right-6 top-6 hover:text-red-600" @click="docs.toggleDrawerMenu()">
          <span class="sr-only">Close Navigation</span>
          {% phicon "x", "regular", { class: "size-6"} %}
        </button>

        {% for section in devDocsMenu %}
          <div class="">
            <p class="text-lg font-semibold mb-3">{{ section.title }}</p>
            <ul class="list-none m-0 p-0 border-l border-gray-900/5 space-y-2">
              {% set children = section.children | sortCollection("title", "ASC") if loop.index0 else section.children %}
              {% for child in children %}
                <li>
                  <a href="{{ child.url }}"
                     class="block pl-6 py-1 -ml-px border-l hover:border-current {% if child.active %}border-current text-red-600 font-semibold{% else %}border-transparent opacity-85 hover:opacity-100 !text-zinc-600{% endif %}">{{ child.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </div>
        {% endfor %}
      </div>

      {# Breadcrumbs #}
      <div class="flex items-center p-4">
        <button type="button" class="hover:text-red-600" @click="docs.toggleDrawerMenu()">
          <span class="sr-only">Open Navigation</span>
          {% phicon "list", "regular", { class: "size-6" } %}
        </button>
        <ol class="mr-4 flex text-sm leading-6 whitespace-nowrap min-w-0" @click="docs.toggleDrawerMenu()">
          <li class="pl-4 flex items-center cursor-pointer font-semibold xs:font-normal">
            Developer Edition Docs
            {% phicon "caret-right", "regular", { class: "size-3 mx-3 hidden xs:block" } %}
          </li>
          <li class="items-center cursor-pointer hidden xs:flex font-semibold sm:font-normal">
            {{ activeDocsPage.sectionName or "Fruity" }}
            {% phicon "caret-right", "regular", { class: "size-3 mx-3 hidden sm:block" } %}
          </li>
          <li class="font-semibold hidden sm:block">{{ activeDocsPage.pageName or "Docs" }}</li>
        </ol>
        <button type="button"
                class="flex items-center ml-auto"
                @click="docs.openSearch()"
                @mouseover="docs.loadAssets()">
          {% phicon "magnifying-glass", "regular", { class: "size-6" } %}
          <span class="sr-only">Quick search...</span>
        </button>
      </div>

    </div>

  </aside>

  <main class="prose max-w-4xl mx-auto w-full lg:max-w-full grow py-8" data-pagefind-body>

    <header data-pagefind-meta="title:'{{ activeDocsPage.sectionName }}: {{ activeDocsPage.pageName }}'">
      {% if activeDocsPage.sectionName %}
        <p class="text-sm md:text-base font-semibold m-0 text-red-600 leading-none">{{ activeDocsPage.sectionName }}</p>
      {% endif %}
      <h1>{{ activeDocsPage.pageName }}</h1>
    </header>

    {{ content | safe }}

    {% set outro = [
      "Stay fresh, keep coding, and explore more juicy stuff in the [Knowledge Base](/docs/) ‚Äî that‚Äôs where the Pro Modules live.",
      "Feeling inspired? Squeeze more juice out of FreshJuice in the [Knowledge Base](/docs/) ‚Äî with premium Pro Modules and extras.",
      "You‚Äôve reached the end ‚Äî but the real flavor continues in the [Knowledge Base](/docs/). Check out the Pro Modules and see what‚Äôs next üçä",
      "Keep it fresh, keep it clean ‚Äî and when you‚Äôre ready for more power, visit the [Knowledge Base](/docs/) for Pro Modules and full docs.",
      "Love building? You‚Äôll love the [Knowledge Base](/docs/) even more ‚Äî it‚Äôs packed with Pro Modules and advanced goodies üçã",
      "Stay juicy and explore the [Knowledge Base](/docs/) ‚Äî home of the FreshJuice Pro Theme and all premium modules.",
      "This is just the beginning ‚Äî for full power and advanced modules, swing by the [Knowledge Base](/docs/).",
      "Fresh ideas never stop flowing üçäDiscover the Pro side of FreshJuice in the [Knowledge Base](/docs/).",
      "Stay creative, stay fresh ‚Äî and unlock Pro features in the [Knowledge Base](/docs/).",
      "Keep building with flavor. Visit the [Knowledge Base](/docs/) to explore the FreshJuice Pro Theme and advanced modules."
    ] %}

    {{ ('---\n' ~ (outro | random)) | markdownIt | safe }}

  </main>

</div>
